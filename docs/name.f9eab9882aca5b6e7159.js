!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);var a={inputDescr:document.getElementById("inputDescr"),inputVal:document.getElementById("inputVal"),item:document.getElementsByClassName("expenses__input__item"),itemDescr:document.getElementsByClassName("expenses__item__description"),itemVal:document.getElementsByClassName("expenses__input__item--value"),x:document.getElementsByClassName("expenses__item__delete"),list:document.getElementsByClassName("expenses__list"),warning:document.getElementById("expenses__input__warning"),id:0,dps:[],btnSave:document.getElementsByClassName("btn__save")[0],btnDelete:document.getElementsByClassName("btn__delete")[0],btns:document.getElementsByClassName("btn"),total:document.getElementById("total__exp"),historyList:document.getElementById("navigation__history--list"),historyInput:document.getElementById("navigation__history--input")};function i(){var e=0;[].forEach.call(a.itemVal,(function(t){e+=Number(t.innerHTML)})),a.total.innerHTML="".concat(e)}function o(){inputDescr.value="",inputVal.value="",a.inputDescr.focus()}function r(e,t){var n=e.length;if(n){for(var a=0;a<n;a++)e[0].remove();t.data.labels.splice(0,n),t.data.datasets[0].data.splice(0,n),t.update()}}var s=document.getElementById("myChart").getContext("2d"),d=new Chart(s,{type:"doughnut",data:{datasets:[{backgroundColor:[],borderColor:[],borderWidth:1}]},options:{aspectRatio:1,legend:{labels:{fontColor:"#FFF"}}}});function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}!function(){for(var e=0;e<=100;e++){for(var t="#",n=0;n<6;n++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];d.data.datasets[0].backgroundColor[e]=t+"66",d.data.datasets[0].borderColor[e]=t}}();var c=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.descr=t,this.val=n,this.id=a}var t,n,a;return t=e,(n=[{key:"addingNewItem",value:function(){!function(e,t,n,a){e.data.labels.push(t),e.data.datasets[0].data[a]=n,e.update()}(d,this.descr,this.val,this.id);var e=document.createElement("div");e.className="expenses__input__item",e.id="exp-".concat(this.id);var t=document.createTextNode("");e.appendChild(t);var n=document.createElement("div");n.className="expenses__input__item--description";var a=document.createTextNode(this.descr);n.appendChild(a);var o=document.createElement("div");o.className="expenses__input__item--value";var r=document.createTextNode(this.val);o.appendChild(r);var s=document.createElement("div");s.className="expenses__input__item--delete";var l=document.createTextNode("x");s.appendChild(l),document.querySelector(".expenses__list").insertAdjacentElement("beforeend",e),document.getElementById(e.id).insertAdjacentElement("beforeend",n),document.getElementById(e.id).insertAdjacentElement("beforeend",o),document.getElementById(e.id).insertAdjacentElement("beforeend",s),i();var c=this.descr,u=this.val;s.addEventListener("click",(function(){!function(e,t,n){var a=e.data.labels.indexOf(t);a>-1&&e.data.labels.splice(a,1);var i=e.data.datasets[0].data.indexOf(n);i>-1&&e.data.datasets[0].data.splice(i,1),e.update()}(d,c,u),e.remove(),i()}))}}])&&l(t.prototype,n),a&&l(t,a),e}();function u(){if(""===a.inputVal.value||""===a.inputDescr.value){a.warning.style.opacity="1",a.warning.style.position="relative";for(var e=0;e<a.itemDescr.length;e++)a.itemDescr[e].style.top="1rem",a.itemVal[e].style.top="1rem"}else{a.warning.style.opacity="0",a.warning.style.position="absolute";for(var t=0;t<a.itemDescr.length;t++)a.itemDescr[t].style.top="0",a.itemVal[t].style.top="0";new c(a.inputDescr.value,a.inputVal.value,a.id).addingNewItem(),a.id+=1}}var m,p=((m=function(){var e,t,n=[];return document.cookie.split(/; */).forEach((function(a){var i=a.split("=");e=decodeURIComponent(i[0]),t=(t=decodeURIComponent(i[1])).split(",");for(var o=[],r=0;r<Math.round(t.length/2);r++)o[r]=new Array(2),o[r][0]=t[2*r],o[r][1]=t[2*r+1];n.push([e,[o]])})),n}()).forEach((function(e){e[0]&&(a.historyList.innerHTML+="<option value=".concat(e[0]," />"))})),m);a.inputDescr.addEventListener("keyup",(function(e){if("Enter"===e.key){for(var t=0;t<a.item.length;t++)a.item[t].id!=="exp-".concat(t)&&(a.item[t].id="exp-".concat(t)),a.id=t+1;u(),o(),a.historyInput.value="Now"}})),a.inputVal.addEventListener("keyup",(function(e){if("Enter"===e.key){for(var t=0;t<a.item.length;t++)a.item[t].id!=="exp-".concat(t)&&(a.item[t].id="exp-".concat(t)),a.id=t+1;u(),o(),a.historyInput.value="Now"}})),a.historyInput.addEventListener("click",(function(){a.historyInput.value=""})),a.historyInput.addEventListener("change",(function(){var e=this;r(a.item,d),p.forEach((function(t){if(t[0]===e.value)for(var n=t[1][0],a=0;a<n.length;a++){new c(n[a][0],n[a][1],a).addingNewItem()}}))})),a.btnDelete.addEventListener("click",(function(){var e,t;e=a.historyInput.value,t=encodeURIComponent(e),document.cookie=t+"=; max-age=-1;",r(a.item,d),i(),location.reload()})),a.btnSave.addEventListener("click",(function(){if(a.item.length){for(var e=(new Date).toString().split(" ").splice(1,4).join("-"),t=a.item.length,n=[],i=0;i<t;i++)n[i]=[a.item[i].childNodes[1].textContent,a.item[i].childNodes[2].textContent];a.historyList.innerHTML+="<option value=".concat(e," />"),a.historyInput.value="Now",function(e,t,n){if(navigator.cookieEnabled){var a=encodeURIComponent(t)+"="+encodeURIComponent(e);if("number"==typeof n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),a+="; expires="+i.toGMTString()}document.cookie=a}}(n,e,365),!1,location.reload()}}))}]);